<div class="syllabus-content">
  
  <!-- MENSAJES -->
  <div *ngIf="successMessage" class="success-message">
    <mat-icon>check_circle</mat-icon>
    <p>{{ successMessage }}</p>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    <mat-icon>error</mat-icon>
    <p>{{ errorMessage }}</p>
  </div>

  <!-- HEADER Y SUBIDA -->
  <div class="upload-section">
    <div class="section-header">
      <mat-icon>description</mat-icon>
      <h2>Subir Nuevo Temario</h2>
    </div>

    <div class="upload-card">
      <input 
        type="file" 
        accept=".pdf"
        #fileInput
        (change)="onFileSelected($event)"
        style="display: none;">
      
      <button 
        mat-raised-button 
        color="primary"
        (click)="fileInput.click()"
        [disabled]="isUploading">
        <mat-icon>upload_file</mat-icon>
        Seleccionar Archivo PDF
      </button>

      <div class="upload-info">
        <mat-icon>info</mat-icon>
        <span>Formatos permitidos: PDF | Tama침o m치ximo: 10MB</span>
      </div>
    </div>

    <!-- BARRA DE PROGRESO -->
    <div *ngIf="isUploading" class="upload-progress">
      <mat-progress-spinner 
        mode="determinate" 
        [value]="uploadProgress"
        diameter="50">
      </mat-progress-spinner>
      <span class="progress-text">Subiendo... {{ uploadProgress }}%</span>
    </div>
  </div>

  <!-- FILTRO POR MATERIA -->
  <div class="filter-section">
    <mat-form-field appearance="outline">
      <mat-label>Filtrar por Materia</mat-label>
      <mat-select [formControl]="materiaControl">
        <mat-option *ngFor="let materia of materias" [value]="materia">
          {{ materia }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div class="count-info">
      <mat-icon>folder</mat-icon>
      <span>{{ temariosFiltrados.length }} temario(s) disponible(s)</span>
    </div>
  </div>

  <!-- LISTA DE TEMARIOS -->
  <div class="temarios-grid">
    
    <!-- CARD POR CADA TEMARIO -->
    <mat-card *ngFor="let temario of temariosFiltrados" class="temario-card">
      <mat-card-header>
        <div mat-card-avatar class="pdf-icon">
          <mat-icon>picture_as_pdf</mat-icon>
        </div>
        <mat-card-title>{{ temario.nombreArchivo }}</mat-card-title>
        <mat-card-subtitle>
          <mat-chip class="materia-chip">{{ temario.materia }}</mat-chip>
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="temario-info">
          <div class="info-row">
            <mat-icon>event</mat-icon>
            <span>{{ formatDate(temario.fechaSubida) }}</span>
          </div>
          <div class="info-row">
            <mat-icon>storage</mat-icon>
            <span>{{ temario.tamano }} MB</span>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <button 
          mat-button 
          color="primary"
          (click)="downloadTemario(temario)">
          <mat-icon>download</mat-icon>
          Descargar
        </button>
        <button 
          mat-button 
          color="warn"
          (click)="deleteTemario(temario)">
          <mat-icon>delete</mat-icon>
          Eliminar
        </button>
      </mat-card-actions>
    </mat-card>

  </div>

  <!-- MENSAJE SI NO HAY TEMARIOS -->
  <div *ngIf="temariosFiltrados.length === 0" class="no-temarios">
    <mat-icon>folder_open</mat-icon>
    <p>No hay temarios disponibles</p>
    <p class="hint">Sube tu primer temario usando el bot칩n de arriba</p>
  </div>

  <!-- INSTRUCCIONES -->
  <div class="instructions-card">
    <h3>游닄 Instrucciones:</h3>
    <ul>
      <li>Haz clic en <strong>"Seleccionar Archivo PDF"</strong> para subir un nuevo temario</li>
      <li>Los archivos deben estar en formato <strong>PDF</strong> y no superar los <strong>10MB</strong></li>
      <li>Usa el filtro para buscar temarios por materia espec칤fica</li>
      <li>Puedes <strong>descargar</strong> cualquier temario haciendo clic en su bot칩n</li>
      <li>Para <strong>eliminar</strong> un temario, haz clic en el bot칩n rojo de eliminar</li>
      <li>Los temarios estar치n disponibles para consulta de los alumnos</li>
    </ul>
  </div>

</div>